<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D.P.S. - Daily Performance System</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="main-container" id="main-container">
        <h1>D.P.S.<br><span>Daily Performance System</span></h1>

        <div class="input-group">
            <label for="sku">SKU (‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô):</label>
            <input type="number" id="sku" placeholder="üì¶ ‡∏õ‡πâ‡∏≠‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô SKU ‡∏£‡∏ß‡∏°" oninput="calculateAverage()">
        </div>

        <div class="input-group">
            <label for="mu">MU (‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô):</label>
            <input type="number" id="mu" placeholder="üî¢ ‡∏õ‡πâ‡∏≠‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô MU ‡∏£‡∏ß‡∏°" oninput="calculateAverage()">
        </div>

        <div class="input-group">
            <label for="days">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡πÉ‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ):</label>
            <input type="number" id="days" placeholder="üóìÔ∏è ‡∏õ‡πâ‡∏≠‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô" oninput="calculateAverage()">
        </div>

        <div class="result" id="result">
            ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏±‡∏î‡πÑ‡∏î‡πâ <span>0.00</span> ‡∏ö‡∏¥‡∏•‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô
        </div>
    </div>

    <div class="notes">
        <h2>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:</h2>
        <div class="detailed-results-in-notes">
            <h3>‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô:</h3>
            <p><strong>SKU ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô:</strong> <span id="actualSkuPerDayDisplay">0.00</span> SKU</p>
            <p><strong>MU ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô:</strong> <span id="actualMuPerDayDisplay">0.00</span> MU</p>
            
            <hr class="notes-separator">

            <h3>‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ (120 SKU / 340 MU):</h3>
            <p><strong>SKU:</strong> <span id="skuComparison">N/A</span></p>
            <p><strong>MU:</strong> <span id="muComparison">N/A</span></p>
        </div>
    </div>

    <div class="links-container">
        <a href="incentive_calculator.html">üîó ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Incentive</a>
        <a href="https://example.com/page2" target="_blank">üîó ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤ 2</a>
        <a href="https://example.com/page3" target="_blank">üîó ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤ 3</a>
    </div>

    <button id="fullscreenToggle" class="fullscreen-toggle" aria-label="Toggle Fullscreen">
        <i class="fas fa-expand-arrows-alt"></i>
    </button>

    <script>
        function calculateAverage() {
            const totalSku = parseFloat(document.getElementById('sku').value || 0);
            const totalMu = parseFloat(document.getElementById('mu').value || 0);
            const daysWorked = parseFloat(document.getElementById('days').value || 0);

            // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡πà‡∏≤ "‡∏ö‡∏¥‡∏•"
            const targetSkuPerDay = 120;
            const targetMuPerDay = 340;
            const equivalentBillsIfTargetMet = 12;

            // Elements ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏´‡∏°‡πà
            const actualSkuPerDayDisplay = document.getElementById('actualSkuPerDayDisplay');
            const actualMuPerDayDisplay = document.getElementById('actualMuPerDayDisplay');
            const skuComparisonDisplay = document.getElementById('skuComparison');
            const muComparisonDisplay = document.getElementById('muComparison');

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
            if (isNaN(totalSku) || isNaN(totalMu) || isNaN(daysWorked) || daysWorked <= 0) {
                document.getElementById('result').innerHTML = '‡∏Ñ‡∏∏‡∏ì‡∏à‡∏±‡∏î‡πÑ‡∏î‡πâ <span>0.00</span> ‡∏ö‡∏¥‡∏•‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô';
                actualSkuPerDayDisplay.textContent = '0.00';
                actualMuPerDayDisplay.textContent = '0.00';
                skuComparisonDisplay.textContent = 'N/A';
                muComparisonDisplay.textContent = 'N/A';
                return;
            }

            // 1. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì SKU/MU ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô‡∏à‡∏≤‡∏Å‡∏Ñ‡πà‡∏≤‡∏£‡∏ß‡∏°‡∏ó‡∏µ‡πà‡∏õ‡πâ‡∏≠‡∏ô
            const actualSkuPerDay = totalSku / daysWorked;
            const actualMuPerDay = totalMu / daysWorked;

            // 2. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
            const skuPerformanceRatio = actualSkuPerDay / targetSkuPerDay;
            const muPerformanceRatio = actualMuPerDay / targetMuPerDay;

            // 3. ‡∏´‡∏≤‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Ç‡∏≠‡∏á‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á
            const averagePerformanceRatio = (skuPerformanceRatio + muPerformanceRatio) / 2;

            // 4. ‡πÅ‡∏õ‡∏•‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ö‡∏¥‡∏•‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô"
            const billsPerDay = averagePerformanceRatio * equivalentBillsIfTargetMet;
            
            document.getElementById('result').innerHTML = `‡∏Ñ‡∏∏‡∏ì‡∏à‡∏±‡∏î‡πÑ‡∏î‡πâ <span>${billsPerDay.toFixed(2)}</span> ‡∏ö‡∏¥‡∏•‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô`;

            // --- ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏´‡∏°‡πà ---
            actualSkuPerDayDisplay.textContent = actualSkuPerDay.toFixed(2);
            actualMuPerDayDisplay.textContent = actualMuPerDay.toFixed(2);

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö
            function getComparisonText(actual, target, unit) {
                const diff = actual - target;
                if (diff > 0) {
                    return `‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ ${diff.toFixed(2)} ${unit}`;
                } else if (diff < 0) {
                    return `‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ ${Math.abs(diff).toFixed(2)} ${unit}`;
                } else {
                    return `‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢`;
                }
            }

            skuComparisonDisplay.textContent = getComparisonText(actualSkuPerDay, targetSkuPerDay, 'SKU');
            muComparisonDisplay.textContent = getComparisonText(actualMuPerDay, targetMuPerDay, 'MU');
            // --- ‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏´‡∏°‡πà ---
        }

        document.addEventListener('DOMContentLoaded', calculateAverage);

        const fullscreenToggle = document.getElementById('fullscreenToggle');
        const mainContainer = document.getElementById('main-container');
        const resultContainer = document.getElementById('result');
        const imageFiles = ['1 (3).png', '1 (4).png', '1 (5).png', '1 (6).png', '1 (7).png', '1 (8).png', '1 (9).png'];

        fullscreenToggle.addEventListener('click', () => {
            if (document.fullscreenElement) {
                document.exitFullscreen();
            } else {
                document.documentElement.requestFullscreen();
            }
        });

        document.addEventListener('fullscreenchange', () => {
            if (document.fullscreenElement) {
                // ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà Fullscreen
                mainContainer.style.display = 'none'; // ‡∏ã‡πà‡∏≠‡∏ô container ‡∏´‡∏•‡∏±‡∏Å

                // ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡πÑ‡∏ï‡∏•‡πå resultContainer ‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á
                resultContainer.style.display = 'flex'; // ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô flex ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á
                resultContainer.style.flexDirection = 'column';
                resultContainer.style.justifyContent = 'center';
                resultContainer.style.alignItems = 'center';
                resultContainer.style.width = '100vw';
                resultContainer.style.height = '100vh';
                resultContainer.style.boxShadow = 'none'; // ‡∏•‡∏ö‡πÄ‡∏á‡∏≤‡πÄ‡∏î‡∏¥‡∏°
                resultContainer.style.border = 'none'; // ‡∏•‡∏ö‡∏Ç‡∏≠‡∏ö‡πÄ‡∏î‡∏¥‡∏°
                resultContainer.style.backgroundColor = 'rgba(0, 0, 0, 0.9)'; // ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏î‡∏≥‡∏ó‡∏∂‡∏ö

                // ‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏û
                const randomIndex = Math.floor(Math.random() * imageFiles.length);
                const randomImage = imageFiles[randomIndex];
                resultContainer.style.backgroundImage = `url('${randomImage}')`;
                resultContainer.style.backgroundSize = 'contain';
                resultContainer.style.backgroundRepeat = 'no-repeat';
                resultContainer.style.backgroundPosition = 'center';
                // ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î Fullscreen
                resultContainer.querySelector('span').style.fontSize = '8vw'; // ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡∏≤‡∏° viewport width

                // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°
                fullscreenToggle.querySelector('i').classList.remove('fa-expand-arrows-alt');
                fullscreenToggle.querySelector('i').classList.add('fa-compress-arrows-alt');

                // ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏•‡πá‡∏≠‡∏Å orientation ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô
                if (screen.orientation && screen.orientation.lock) {
                    screen.orientation.lock('landscape').catch(e => console.log('Orientation lock failed:', e));
                } else if (screen.lockOrientation) { // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏£‡∏∏‡πà‡∏ô‡πÄ‡∏Å‡πà‡∏≤
                    screen.lockOrientation('landscape');
                }

            } else {
                // ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Fullscreen
                mainContainer.style.display = 'flex'; // ‡πÅ‡∏™‡∏î‡∏á container ‡∏´‡∏•‡∏±‡∏Å‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á

                // ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡∏™‡πÑ‡∏ï‡∏•‡πå resultContainer ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥
                resultContainer.style.display = 'block'; // ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏õ‡πá‡∏ô block
                resultContainer.style.width = 'auto';
                resultContainer.style.height = 'auto';
                resultContainer.style.backgroundImage = 'none';
                resultContainer.style.boxShadow = 'inset 0 1px 3px rgba(0, 0, 0, 0.3)';
                resultContainer.style.border = '1px solid var(--primary-red)';
                resultContainer.style.backgroundColor = 'var(--darker-bg)';
                // ‡∏Ñ‡∏∑‡∏ô‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
                resultContainer.querySelector('span').style.fontSize = ''; // ‡∏•‡∏ö style ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ‡πÉ‡∏ô JS

                // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏±‡∏ö
                fullscreenToggle.querySelector('i').classList.remove('fa-compress-arrows-alt');
                fullscreenToggle.querySelector('i').classList.add('fa-expand-arrows-alt');

                // ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å orientation
                if (screen.orientation && screen.orientation.unlock) {
                    screen.orientation.unlock();
                } else if (screen.unlockOrientation) {
                    screen.unlockOrientation();
                }
            }
        });

        // ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏ñ‡πâ‡∏≤‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Fullscreen API
        if (!document.documentElement.requestFullscreen) {
            fullscreenToggle.style.display = 'none';
        }
    </script>
</body>
</html>
