<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D.P.S. - Daily Performance System</title>
    <link rel="stylesheet" href="style.css"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="main-container" id="main-container">
        <h1>D.P.S.<br><span>Daily Performance System</span></h1>

        <div class="input-group">
            <label for="sku">SKU (‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô):</label>
            <input type="number" id="sku" placeholder="üì¶ ‡∏õ‡πâ‡∏≠‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô SKU ‡∏£‡∏ß‡∏°" oninput="calculateAverage()">
        </div>

        <div class="input-group">
            <label for="mu">MU (‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô):</label>
            <input type="number" id="mu" placeholder="üî¢ ‡∏õ‡πâ‡∏≠‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô MU ‡∏£‡∏ß‡∏°" oninput="calculateAverage()">
        </div>

        <div class="input-group">
            <label for="days">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡πÉ‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ):</label>
            <input type="number" id="days" placeholder="üóìÔ∏è ‡∏õ‡πâ‡∏≠‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô" oninput="calculateAverage()">
        </div>

        <div class="result" id="result">
            <svg class="progress-ring" width="180" height="180">
                <circle 
                    class="progress-ring__background" 
                    stroke-width="10" 
                    fill="transparent" 
                    r="80" 
                    cx="90" 
                    cy="90"
                />
                <circle 
                    class="progress-ring__circle" 
                    stroke-width="10" 
                    fill="transparent" 
                    r="80" 
                    cx="90" 
                    cy="90" 
                    id="progressCircle"
                />
            </svg>
            <div class="result-content">
                <div class="result-text">‡∏Ñ‡∏∏‡∏ì‡∏à‡∏±‡∏î‡πÑ‡∏î‡πâ</div>
                <div class="result-value"><span id="billsPerDayValue">0.00</span></div>
                <div class="result-unit">‡∏ö‡∏¥‡∏•‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô</div>
            </div>
        </div>
    </div>

    <div class="notes">
        <h2>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:</h2>
        <div class="detailed-results-in-notes">
            <h3>‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô:</h3>
            <p><strong>SKU ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô:</strong> <span id="actualSkuPerDayDisplay">0.00</span> SKU</p>
            <p><strong>MU ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô:</strong> <span id="actualMuPerDayDisplay">0.00</span> MU</p>
            
            <hr class="notes-separator">

            <h3>‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ (120 SKU / 340 MU):</h3>
            <p><strong>SKU:</strong> <span id="skuComparison">N/A</span></p>
            <p><strong>MU:</strong> <span id="muComparison">N/A</span></p>
        </div>
    </div>

    <div class="links-container">
        <a href="incentive_calculator.html">üîó ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Incentive</a>
        <a href="https://example.com/page2" target="_blank">üîó ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤ 2</a>
        <a href="https://example.com/page3" target="_blank">üîó ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤ 3</a>
    </div>

    <button id="fullscreenToggle" class="fullscreen-toggle" aria-label="Toggle Fullscreen">
        <i class="fas fa-expand-arrows-alt"></i>
    </button>

    <script>
        // ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á billsPerDay ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö
        let lastBillsPerDay = 0;

        function animateNumber(elementId, start, end, duration) {
            const element = document.getElementById(elementId);
            if (!element) return;

            let startTime = null;

            function easeOutQuad(t) {
                return t * (2 - t);
            }

            function animate(currentTime) {
                if (!startTime) startTime = currentTime;
                const progress = Math.min((currentTime - startTime) / duration, 1);
                const easedProgress = easeOutQuad(progress); // ‡πÉ‡∏ä‡πâ easeOutQuad ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö‡∏î‡∏π‡πÄ‡∏õ‡πá‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥
                const currentValue = start + (end - start) * easedProgress;
                element.textContent = currentValue.toFixed(2);

                if (progress < 1) {
                    requestAnimationFrame(animate);
                } else {
                    element.textContent = end.toFixed(2); // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏Ñ‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
                }
            }
            requestAnimationFrame(animate);
        }

        // --- Progress Ring Functionality ---
        let progressCircle; // ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ‡∏Ç‡πâ‡∏≤‡∏á‡∏ô‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πà‡∏ß‡∏ñ‡∏∂‡∏á

        let radius = 80; // Default radius (‡∏Ñ‡∏ß‡∏£‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö r ‡πÉ‡∏ô SVG)
        let circumference = radius * 2 * Math.PI;

        function setProgress(percent) {
            if (!progressCircle) {
                progressCircle = document.getElementById('progressCircle');
                if (progressCircle) {
                    radius = progressCircle.r.baseVal.value; // ‡∏î‡∏∂‡∏á‡∏£‡∏±‡∏®‡∏°‡∏µ‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å SVG
                    circumference = radius * 2 * Math.PI;
                    progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;
                } else {
                    return;
                }
            }
            
            const offset = circumference - percent / 100 * circumference;
            progressCircle.style.strokeDashoffset = offset;
        }

        function updateRingColor(billsPerDay) {
            const resultDiv = document.getElementById('result');
            resultDiv.classList.remove('progress-green', 'progress-yellow', 'progress-red');

            // ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ
            if (billsPerDay >= 12) { // ‡∏ñ‡πâ‡∏≤ 12 ‡∏ö‡∏¥‡∏•/‡∏ß‡∏±‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ = ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß
                resultDiv.classList.add('progress-green');
            } else if (billsPerDay >= 8) { // ‡∏ñ‡πâ‡∏≤ 8-11.99 ‡∏ö‡∏¥‡∏•/‡∏ß‡∏±‡∏ô = ‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á
                resultDiv.classList.add('progress-yellow');
            } else { // ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 8 ‡∏ö‡∏¥‡∏•/‡∏ß‡∏±‡∏ô = ‡∏™‡∏µ‡πÅ‡∏î‡∏á
                resultDiv.classList.add('progress-red');
            }
        }


        function calculateAverage() {
            const totalSku = parseFloat(document.getElementById('sku').value || 0);
            const totalMu = parseFloat(document.getElementById('mu').value || 0);
            const daysWorked = parseFloat(document.getElementById('days').value || 0);

            // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡πà‡∏≤ "‡∏ö‡∏¥‡∏•"
            const targetSkuPerDay = 120;
            const targetMuPerDay = 340;
            const equivalentBillsIfTargetMet = 12;

            // Elements ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
            const billsPerDayValueElement = document.getElementById('billsPerDayValue'); // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Number Counting
            const actualSkuPerDayDisplay = document.getElementById('actualSkuPerDayDisplay');
            const actualMuPerDayDisplay = document.getElementById('actualMuPerDayDisplay');
            const skuComparisonDisplay = document.getElementById('skuComparison');
            const muComparisonDisplay = document.getElementById('muComparison');

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
            if (isNaN(totalSku) || isNaN(totalMu) || isNaN(daysWorked) || daysWorked <= 0) {
                billsPerDayValueElement.textContent = '0.00'; // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤ Number Counting
                lastBillsPerDay = 0; // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢
                actualSkuPerDayDisplay.textContent = '0.00';
                actualMuPerDayDisplay.textContent = '0.00';
                skuComparisonDisplay.innerHTML = 'N/A';
                muComparisonDisplay.innerHTML = 'N/A';
                setProgress(0); // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï Progress Ring
                document.getElementById('result').classList.remove('progress-green', 'progress-yellow', 'progress-red'); // ‡∏•‡∏ö‡∏™‡∏µ
                return;
            }

            // 1. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì SKU/MU ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô‡∏à‡∏≤‡∏Å‡∏Ñ‡πà‡∏≤‡∏£‡∏ß‡∏°‡∏ó‡∏µ‡πà‡∏õ‡πâ‡∏≠‡∏ô
            const actualSkuPerDay = totalSku / daysWorked;
            const actualMuPerDay = totalMu / daysWorked;

            // 2. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
            const skuPerformanceRatio = actualSkuPerDay / targetSkuPerDay;
            const muPerformanceRatio = actualMuPerDay / targetMuPerDay;

            // 3. ‡∏´‡∏≤‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Ç‡∏≠‡∏á‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á
            const averagePerformanceRatio = (skuPerformanceRatio + muPerformanceRatio) / 2;

            // 4. ‡πÅ‡∏õ‡∏•‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ö‡∏¥‡∏•‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô"
            const billsPerDay = averagePerformanceRatio * equivalentBillsIfTargetMet;
            
            // --- Number Counting Animation ---
            animateNumber('billsPerDayValue', lastBillsPerDay, billsPerDay, 800); // 800ms duration
            lastBillsPerDay = billsPerDay; // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢

            // --- Progress Ring Update ---
            // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ 12 ‡∏ö‡∏¥‡∏•‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠ 100% ‡πÄ‡∏ï‡πá‡∏°‡∏Ç‡∏≠‡∏á‡∏ß‡∏á‡πÅ‡∏´‡∏ß‡∏ô
            const maxBillsForRing = 12; 
            let progressPercent = (billsPerDay / maxBillsForRing) * 100;
            // ‡∏ñ‡πâ‡∏≤ billsPerDay ‡πÄ‡∏Å‡∏¥‡∏ô maxBillsForRing ‡∏Å‡πá‡πÉ‡∏´‡πâ‡∏ß‡∏á‡πÅ‡∏´‡∏ß‡∏ô‡πÄ‡∏ï‡πá‡∏° 100% ‡πÑ‡∏õ‡πÄ‡∏•‡∏¢ ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏ô
            setProgress(Math.min(progressPercent, 100)); 
            updateRingColor(billsPerDay); // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏µ‡∏ß‡∏á‡πÅ‡∏´‡∏ß‡∏ô‡∏ï‡∏≤‡∏°‡∏Ñ‡πà‡∏≤ billsPerDay

            // --- ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ---
            actualSkuPerDayDisplay.textContent = actualSkuPerDay.toFixed(2);
            actualMuPerDayDisplay.textContent = actualMuPerDay.toFixed(2);

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏µ‡πÅ‡∏•‡∏∞‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô/‡∏≠‡∏µ‡πÇ‡∏°‡∏à‡∏¥
            function getComparisonHTML(actual, target, unit) {
                const diff = actual - target;
                let color = '';
                let text = '';
                let icon = '';
                let animationClass = '';

                if (diff > 0) {
                    color = '#4CAF50'; // ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß
                    text = `‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ ${diff.toFixed(2)} ${unit}`;
                    icon = 'üöÄ'; // ‡∏à‡∏£‡∏ß‡∏î
                    animationClass = 'pulse'; // ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡πÄ‡∏ï‡πâ‡∏ô
                } else if (diff < 0) {
                    color = '#F44336'; // ‡∏™‡∏µ‡πÅ‡∏î‡∏á
                    text = `‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ ${Math.abs(diff).toFixed(2)} ${unit}`;
                    icon = 'üôÅ'; // ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏®‡∏£‡πâ‡∏≤
                    animationClass = 'shake'; // ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡∏™‡∏±‡πà‡∏ô
                } else {
                    color = '#FFFFFF'; // ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß (‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢)
                    text = `‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢`;
                    icon = '‚úÖ'; // ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏π‡∏Å
                    animationClass = 'bounce'; // ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î
                }
                return `<span style="color: ${color};">${text}</span> <span class="comparison-icon" style="animation: ${animationClass} 0.8s ease-in-out forwards;">${icon}</span>`;
            }

            // ‡πÉ‡∏ä‡πâ innerHTML ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏™‡∏µ‡πÅ‡∏•‡∏∞‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÑ‡∏î‡πâ
            skuComparisonDisplay.innerHTML = getComparisonHTML(actualSkuPerDay, targetSkuPerDay, 'SKU');
            muComparisonDisplay.innerHTML = getComparisonHTML(actualMuPerDay, targetMuPerDay, 'MU');
        }

        // --- DOMContentLoaded Event Listener ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö JavaScript ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ---
        document.addEventListener('DOMContentLoaded', () => {
            // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ calculateAverage() ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠ DOM ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à
            calculateAverage();

            // ‡∏î‡∏∂‡∏á element ‡∏Ç‡∏≠‡∏á progressCircle ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å DOM ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à
            progressCircle = document.getElementById('progressCircle');
            if (progressCircle) {
                radius = progressCircle.r.baseVal.value;
                circumference = radius * 2 * Math.PI;
                progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;
                progressCircle.style.strokeDashoffset = `${circumference}`;
            }

            const fullscreenToggle = document.getElementById('fullscreenToggle');
            const mainContainer = document.getElementById('main-container');
            const resultContainer = document.getElementById('result'); // ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ div.result ‡∏ó‡∏µ‡πà‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô progress ring
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏Å‡∏£‡∏ì‡∏µ‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ 517697050...)
            const imageFiles = ['517697050_749557407535592_1291856605384937587_n.jpg', '1 (4).png', '1 (5).png', '1 (6).png', '1 (7).png', '1 (8).png', '1 (9).png'];


            // ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏ñ‡πâ‡∏≤‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Fullscreen API
            if (!document.documentElement.requestFullscreen) {
                if (fullscreenToggle) {
                    fullscreenToggle.style.display = 'none';
                }
                // ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á return ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö fullscreen ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
            }

            if (fullscreenToggle) { // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ element ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á‡∏Å‡πà‡∏≠‡∏ô addEventListener
                fullscreenToggle.addEventListener('click', () => {
                    if (document.fullscreenElement) {
                        document.exitFullscreen();
                    } else {
                        document.documentElement.requestFullscreen();
                    }
                });
            }

            document.addEventListener('fullscreenchange', () => {
                if (document.fullscreenElement) {
                    // ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà Fullscreen
                    if (mainContainer) mainContainer.style.display = 'none'; // ‡∏ã‡πà‡∏≠‡∏ô container ‡∏´‡∏•‡∏±‡∏Å

                    // ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡πÑ‡∏ï‡∏•‡πå resultContainer ‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á
                    if (resultContainer) {
                        resultContainer.style.display = 'flex'; // ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô flex ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á
                        resultContainer.style.flexDirection = 'column';
                        resultContainer.style.justifyContent = 'center';
                        resultContainer.style.alignItems = 'center';
                        resultContainer.style.width = '100vw';
                        resultContainer.style.height = '100vh';
                        resultContainer.style.boxShadow = 'none';
                        resultContainer.style.border = 'none';
                        resultContainer.style.backgroundColor = 'rgba(0, 0, 0, 0.9)';

                        // ‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏û
                        const randomIndex = Math.floor(Math.random() * imageFiles.length);
                        const randomImage = imageFiles[randomIndex];
                        resultContainer.style.backgroundImage = `url('${randomImage}')`;
                        resultContainer.style.backgroundSize = 'contain';
                        resultContainer.style.backgroundRepeat = 'no-repeat';
                        resultContainer.style.backgroundPosition = 'center';
                        
                        // ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î Fullscreen
                        const billsPerDayValueSpan = resultContainer.querySelector('.result-value #billsPerDayValue');
                        const resultTextDiv = resultContainer.querySelector('.result-text');
                        const resultUnitDiv = resultContainer.querySelector('.result-unit');
                        const resultContentDiv = resultContainer.querySelector('.result-content');
                        const svgElement = resultContainer.querySelector('svg');

                        if (billsPerDayValueSpan) billsPerDayValueSpan.style.fontSize = '8vw'; 
                        if (resultTextDiv) resultTextDiv.style.fontSize = '4vw';
                        if (resultUnitDiv) resultUnitDiv.style.fontSize = '4vw';
                        if (resultContentDiv) resultContentDiv.style.color = 'white'; // ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß

                        // ‡∏ã‡πà‡∏≠‡∏ô SVG ‡πÉ‡∏ô Fullscreen mode ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏ï‡πà‡∏†‡∏≤‡∏û‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç
                        if (svgElement) svgElement.style.display = 'none';
                    }

                    if (fullscreenToggle) {
                        fullscreenToggle.querySelector('i').classList.remove('fa-expand-arrows-alt');
                        fullscreenToggle.querySelector('i').classList.add('fa-compress-arrows-alt');
                    }

                    // ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏•‡πá‡∏≠‡∏Å orientation ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô
                    if (screen.orientation && screen.orientation.lock) {
                        screen.orientation.lock('landscape').catch(e => console.log('Orientation lock failed:', e));
                    } else if (screen.lockOrientation) { // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏£‡∏∏‡πà‡∏ô‡πÄ‡∏Å‡πà‡∏≤
                        screen.lockOrientation('landscape');
                    }

                } else {
                    // ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Fullscreen
                    if (mainContainer) mainContainer.style.display = 'flex'; // ‡πÅ‡∏™‡∏î‡∏á container ‡∏´‡∏•‡∏±‡∏Å‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á

                    // ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡∏™‡πÑ‡∏ï‡∏•‡πå resultContainer ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥
                    if (resultContainer) {
                        resultContainer.style.display = 'flex'; // ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á flex ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏†‡∏≤‡∏¢‡πÉ‡∏ô
                        resultContainer.style.width = '180px'; // ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏Ç‡∏ô‡∏≤‡∏î‡∏ß‡∏á‡πÅ‡∏´‡∏ß‡∏ô
                        resultContainer.style.height = '180px'; // ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏Ç‡∏ô‡∏≤‡∏î‡∏ß‡∏á‡πÅ‡∏´‡∏ß‡∏ô
                        resultContainer.style.backgroundImage = 'none';
                        resultContainer.style.boxShadow = 'none'; // ‡πÑ‡∏°‡πà‡∏°‡∏µ box-shadow ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏á‡πÅ‡∏´‡∏ß‡∏ô
                        resultContainer.style.border = 'none'; // ‡πÑ‡∏°‡πà‡∏°‡∏µ border ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏á‡πÅ‡∏´‡∏ß‡∏ô
                        resultContainer.style.backgroundColor = 'transparent'; // ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏á‡πÅ‡∏´‡∏ß‡∏ô
                        
                        // ‡∏Ñ‡∏∑‡∏ô‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
                        const billsPerDayValueSpan = resultContainer.querySelector('.result-value #billsPerDayValue');
                        const resultTextDiv = resultContainer.querySelector('.result-text');
                        const resultUnitDiv = resultContainer.querySelector('.result-unit');
                        const resultContentDiv = resultContainer.querySelector('.result-content');
                        const svgElement = resultContainer.querySelector('svg');

                        if (billsPerDayValueSpan) billsPerDayValueSpan.style.fontSize = ''; // ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤ CSS ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏î‡∏¢ JS
                        if (resultTextDiv) resultTextDiv.style.fontSize = ''; // ‡∏à‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô style.css
                        if (resultUnitDiv) resultUnitDiv.style.fontSize = ''; // ‡∏à‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô style.css
                        if (resultContentDiv) resultContentDiv.style.color = ''; // ‡∏•‡∏ö style ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ‡πÉ‡∏ô JS

                        // ‡πÅ‡∏™‡∏î‡∏á SVG ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤
                        if (svgElement) svgElement.style.display = 'block';
                    }

                    if (fullscreenToggle) {
                        fullscreenToggle.querySelector('i').classList.remove('fa-compress-arrows-alt');
                        fullscreenToggle.querySelector('i').classList.add('fa-expand-arrows-alt');
                    }

                    // ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å orientation
                    if (screen.orientation && screen.orientation.unlock) {
                        screen.orientation.unlock();
                    } else if (screen.unlockOrientation) {
                        screen.unlockOrientation();
                    }
                }
            });
        });
    </script>
</body>
</html>
