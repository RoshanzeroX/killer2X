<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>V.A.R.S. - Video Auto-Resume System</title>
Â  Â  <link rel="stylesheet" href="VARS.css">
</head>
<body>

<div class="main-container">
Â  Â  <h1>
Â  Â  Â  Â  V.A.R.S.
Â  Â  Â  Â  <span>Video Auto-Resume System</span>
Â  Â  </h1>
Â  Â  <p>Tap the button below to copy the code for your browser extension (like Tampermonkey).</p>
Â  Â  <div class="code-box">
Â  Â  Â  Â  <pre id="scriptCode">
// ==UserScript==
// @name Â  Â  Â  Â  Â  VARS - Video Auto-Resume System
// @namespace Â  Â  Â http://tampermonkey.net/
// @version Â  Â  Â  Â 1.5
// @description Â  Â Automatically clicks the "Click to Identify" and "Confirm" buttons, and resumes videos.
// @match Â  Â  Â  Â  Â https://lmsrv.siammakro.co.th/
// @grant Â  Â  Â  Â  Â none
// ==/UserScript==

(function () {
Â  Â  'use strict';

Â  Â  let enabled = true; // Set initial state to ON

Â  Â  // Create a toggle button and append it to the body
Â  Â  const toggleBtn = document.createElement('button');
Â  Â  toggleBtn.innerText = 'ðŸŽ¬ AutoResume: ON';
Â  Â  Object.assign(toggleBtn.style, {
Â  Â  Â  Â  position: 'fixed',
Â  Â  Â  Â  bottom: '10px',
Â  Â  Â  Â  right: '10px',
Â  Â  Â  Â  zIndex: 9999,
Â  Â  Â  Â  padding: '8px 12px',
Â  Â  Â  Â  background: '#222',
Â  Â  Â  Â  color: '#fff',
Â  Â  Â  Â  border: 'none',
Â  Â  Â  Â  borderRadius: '5px',
Â  Â  Â  Â  cursor: 'pointer',
Â  Â  Â  Â  fontSize: '14px'
Â  Â  });

Â  Â  // Append the button to the document body once the page is loaded
Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  Â  document.body.appendChild(toggleBtn);
Â  Â  });
Â  Â  
Â  Â  // Set the toggle button's click handler
Â  Â  toggleBtn.onclick = () => {
Â  Â  Â  Â  enabled = !enabled;
Â  Â  Â  Â  toggleBtn.innerText = `ðŸŽ¬ AutoResume: ${enabled ? 'ON' : 'OFF'}`;
Â  Â  };

Â  Â  // New function to handle both "Click to Identify" and "Confirm" buttons
Â  Â  const autoClickButtons = () => {
Â  Â  Â  Â  if (!enabled) return;

Â  Â  Â  Â  // Step 1: Find and click the "Click to Identify" button
Â  Â  Â  Â  const identifyButton = Array.from(document.querySelectorAll('button, div, a'))
Â  Â  Â  Â  Â  Â  .find(el => el.textContent.trim().toLowerCase().includes('click to identify'));

Â  Â  Â  Â  if (identifyButton && identifyButton.offsetParent !== null) {
Â  Â  Â  Â  Â  Â  console.log('âœ… Found and clicking "Click to Identify"...');
Â  Â  Â  Â  Â  Â  identifyButton.click();
Â  Â  Â  Â  Â  Â  // Wait a moment before trying to click "Confirm"
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  // Step 2: After a delay, find and click the "Confirm" button
Â  Â  Â  Â  Â  Â  Â  Â  const confirmButton = Array.from(document.querySelectorAll('button, div, a'))
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .find(el => el.textContent.trim().startsWith('Confirm'));

Â  Â  Â  Â  Â  Â  Â  Â  if (confirmButton && confirmButton.offsetParent !== null) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('âœ… Found and clicking the Confirm button...');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  confirmButton.click();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }, 500); // 500ms delay to allow the site to process the first click
Â  Â  Â  Â  }
Â  Â  };

Â  Â  setInterval(autoClickButtons, 1000);

Â  Â  // Automatically resume any paused video
Â  Â  const handledVideos = new WeakSet();

Â  Â  setInterval(() => {
Â  Â  Â  Â  if (!enabled) return;
Â  Â  Â  Â  const videos = document.querySelectorAll('video');
Â  Â  Â  Â  videos.forEach(video => {
Â  Â  Â  Â  Â  Â  if (handledVideos.has(video)) return;
Â  Â  Â  Â  Â  Â  handledVideos.add(video);

Â  Â  Â  Â  Â  Â  setInterval(() => {
Â  Â  Â  Â  Â  Â  Â  Â  if (!enabled) return;
Â  Â  Â  Â  Â  Â  Â  Â  if (video.paused && video.readyState >= 2) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  video.play().catch(e => console.warn('Play error:', e));
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }, 1000);
Â  Â  Â  Â  });
Â  Â  }, 1000);
})();
Â  Â  Â  Â  </pre>
Â  Â  </div>
Â  Â  <button class="copy-btn" onclick="copyCode(this)">Copy Code</button>
Â  Â  <div id="copiedMessage" class="copied-msg">Code copied!</div>
</div>

<script>
Â  Â  function copyCode(button) {
Â  Â  Â  Â  const codeElement = document.getElementById('scriptCode');
Â  Â  Â  Â  const codeToCopy = codeElement.innerText;
Â  Â  Â  Â  
Â  Â  Â  Â  navigator.clipboard.writeText(codeToCopy).then(() => {
Â  Â  Â  Â  Â  Â  // Button animation and styling
Â  Â  Â  Â  Â  Â  button.classList.add('success');
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  button.classList.remove('success');
Â  Â  Â  Â  Â  Â  }, 1000);

Â  Â  Â  Â  Â  Â  // Show the success message
Â  Â  Â  Â  Â  Â  const messageElement = document.getElementById('copiedMessage');
Â  Â  Â  Â  Â  Â  messageElement.style.display = 'block';
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  messageElement.style.opacity = '1';
Â  Â  Â  Â  Â  Â  }, 10);

Â  Â  Â  Â  Â  Â  // Hide the success message
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  messageElement.style.opacity = '0';
Â  Â  Â  Â  Â  Â  }, 1500);
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  messageElement.style.display = 'none';
Â  Â  Â  Â  Â  Â  }, 1800);
Â  Â  Â  Â  }).catch(err => {
Â  Â  Â  Â  Â  Â  console.error('Failed to copy text: ', err);
Â  Â  Â  Â  Â  Â  alert('Failed to copy. Please manually select and copy the code.');
Â  Â  Â  Â  });
Â  Â  }
</script>

</body>
</html>
